{"ast":null,"code":"var _jsxFileName = \"/Users/sameer/code/robofriends/src/containers/App.js\";\n// import React, { Component } from 'react';\nimport React, { useState, useEffect } from 'react';\nimport CardList from '../components/CardList';\nimport Scroll from '../components/Scroll';\nimport './App.css';\nimport db from './firebase.config.js';\nimport axios from 'axios';\n\nfunction App() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [ratings, setRatings] = useState([]);\n  const [searchResults, setSearchResults] = useState([]);\n\n  const handleChange = event => {\n    setSearchTerm(event.target.value);\n  };\n\n  var arr = [];\n\n  const fetchRatings = async () => {\n    const response = db.collection('ratings');\n    console.log(\"incomfin response\", response);\n    const data = await response.get();\n    data.docs.forEach(item => {\n      setRatings(ratings => [...ratings, item.data()]);\n    }); // console.log(\"ratings:\", data[0].keys())\n  };\n\n  console.log(\"arrr::::\", arr);\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await axios('https://jsonplaceholder.typicode.com/users');\n      console.log(result.data);\n      setData(result.data);\n      setSearchResults(result.data);\n    };\n\n    fetchData();\n  }, []);\n  useEffect(() => {\n    fetchRatings();\n    const results = data.filter(robot => robot.name.toLowerCase().includes(searchTerm));\n    setSearchResults(results);\n  }, [searchTerm]);\n\n  const postRating = (index, newValue) => {\n    const key = \"rating-\" + index;\n    console.log(\"key is: \", key, typeof key);\n    var obj = {};\n    obj[key] = newValue;\n    console.log(\"incomigng obbj....\", obj);\n    db.collection(\"ratings\").doc(\"oEQub6pDG6nK27mizA66\").update(obj).then(function () {\n      console.log(\"Value successfully written!\");\n    }).catch(function (error) {\n      console.error(\"Error writing Value: \", error);\n    });\n  };\n\n  return !data.length && !ratings.length ? /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, \"Loading\") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"f1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, \"RoboFriends\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pa2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"pa3 ba b--green bg-lightest-blue\",\n    type: \"text\",\n    placeholder: \"search robots\",\n    value: searchTerm,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Scroll, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardList, {\n    robots: searchResults,\n    ratings: ratings,\n    postRating: postRating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/sameer/code/robofriends/src/containers/App.js"],"names":["React","useState","useEffect","CardList","Scroll","db","axios","App","searchTerm","setSearchTerm","data","setData","ratings","setRatings","searchResults","setSearchResults","handleChange","event","target","value","arr","fetchRatings","response","collection","console","log","get","docs","forEach","item","fetchData","result","results","filter","robot","name","toLowerCase","includes","postRating","index","newValue","key","obj","doc","update","then","catch","error","length"],"mappings":"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","sourcesContent":["// import React, { Component } from 'react';\nimport React,{useState,useEffect} from 'react';\nimport CardList from '../components/CardList';\nimport Scroll from '../components/Scroll';\nimport './App.css';\nimport db from './firebase.config.js';\nimport axios from 'axios';\n\nfunction App() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [ratings, setRatings] = useState([]);\n  const [searchResults, setSearchResults] = useState([]);\n  const handleChange = event => {\n    setSearchTerm(event.target.value);\n  };\n  var arr = [];\n  const fetchRatings=async()=>{\n    const response=db.collection('ratings');\n    console.log(\"incomfin response\", response);\n    const data=await response.get();\n    data.docs.forEach(item=>{\n     setRatings(ratings=> [...ratings,item.data()]);\n    });\n    // console.log(\"ratings:\", data[0].keys())\n  }\n\n  console.log(\"arrr::::\",arr);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await axios(\n        'https://jsonplaceholder.typicode.com/users',\n      );\n      console.log(result.data);\n \n      setData(result.data);\n      setSearchResults(result.data)\n    };\n \n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    fetchRatings();\n    const results = data.filter(robot =>\n      robot.name.toLowerCase().includes(searchTerm)\n    );\n    setSearchResults(results);\n  }, [searchTerm]);\n  \n  const postRating = (index,newValue) => {\n    const key = \"rating-\"+index;\n    console.log(\"key is: \",key, typeof key);\n    var obj = {};\n    obj[key]=newValue;\n    console.log(\"incomigng obbj....\",obj)\n    db.collection(\"ratings\")\n      .doc(\"oEQub6pDG6nK27mizA66\")\n      .update(obj)\n      .then(function () {\n        console.log(\"Value successfully written!\",);\n      })\n      .catch(function (error) {\n        console.error(\"Error writing Value: \", error);\n      });\n  }\n\n  return ( (!data.length && !ratings.length) ?\n    <h1>Loading</h1> :\n    <div>\n      <div className='tc'>\n        <h1 className='f1'>RoboFriends</h1>\n        {/* <SearchBox searchChange={handleChange}/> */}\n        <div className='pa2'>\n          <input\n            className='pa3 ba b--green bg-lightest-blue'\n            type='text'\n            placeholder='search robots'\n            value={searchTerm}\n            onChange={handleChange}\n          />\n      </div>\n        <Scroll>\n          <CardList robots={searchResults} ratings={ratings} postRating={postRating}/>\n        </Scroll>\n      </div>\n    </div>\n  );\n\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}